<div class="app-body min-vh-100 mt-0">
  <main class="main d-flex">
    <div class="container">
      <img
        src="assets/img/chec_logo.png"
        class="img-fluid d-block mx-auto mt-5 mb-4"
        alt="CHEC"
      />
      <div class="row">
        <div class="col-md-5 mx-auto">
          <div class="card-group shadow">
            <div class="card p-4">
              <div class="card-body">
                <form
                  [formGroup]="formCambiarPassword"
                  (ngSubmit)="changePassword()"
                >
                  <h3>Cambiar contraseña</h3>
                  <div class="form-group">
                    <label class="col-form-label" for="password"
                      >Nueva contraseña</label
                    >
                    <div class="input-group">
                      <input
                        [type]="hidePassword ? 'password' : 'text'"
                        formControlName="password"
                        id="password"
                        name="password"
                        class="form-control"
                        placeholder="Contraseña"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text bg-transparent">
                          <i
                            (click)="hidePassword = !hidePassword"
                            [ngClass]="hidePassword ? 'fa-eye' : 'fa-eye-slash'"
                            ngbTooltip="{{
                              hidePassword
                                ? 'Mostrar contraseña'
                                : 'Ocultar contraseña'
                            }}"
                            class="fas fa-lg cursor_pointer"
                          ></i>
                        </span>
                      </div>
                      <span
                        *ngIf="
                          password.invalid &&
                          (password.dirty || password.touched)
                        "
                        class="text-danger pos_texto_error texto_pequeno"
                      >
                        <span *ngIf="password.errors.required">
                          {{ MESSAGES.requerido }}
                        </span>
                        <span *ngIf="password.errors.minlength">
                          {{ MESSAGES.minLength }}
                        </span>
                      </span>
                    </div>
                  </div>

                  <div class="form-group mb-4">
                    <label class="col-form-label" for="confirmarPassword"
                      >Confirmar contraseña</label
                    >
                    <div class="input-group">
                      <input
                        [type]="hideConfirmPassword ? 'password' : 'text'"
                        type="password"
                        formControlName="confirmarPassword"
                        id="confirmarPassword"
                        name="confirmarPassword"
                        class="form-control"
                        placeholder="Confirmar contraseña"
                      />
                      <div class="input-group-append">
                        <span class="input-group-text bg-transparent">
                          <i
                            (click)="hideConfirmPassword = !hideConfirmPassword"
                            [ngClass]="
                              hideConfirmPassword ? 'fa-eye' : 'fa-eye-slash'
                            "
                            ngbTooltip="{{
                              hideConfirmPassword
                                ? 'Mostrar contraseña'
                                : 'Ocultar contraseña'
                            }}"
                            class="fas fa-lg cursor_pointer"
                          ></i>
                        </span>
                      </div>
                      <span class="text-danger pos_texto_error texto_pequeno">
                        <span
                          *ngIf="
                            confirmarPassword.invalid &&
                            (confirmarPassword.dirty ||
                              confirmarPassword.touched)
                          "
                        >
                          <span *ngIf="confirmarPassword.errors.required">
                            {{ MESSAGES.requerido }}
                          </span>
                        </span>

                        <span
                          *ngIf="formCambiarPassword.hasError('noCoinciden')"
                        >
                          {{ MESSAGES.passwordsNoCoinciden }}
                        </span>
                      </span>
                    </div>
                  </div>

                  <div class="row justify_content_flex_end">
                    <div class="col-auto">
                      <button type="submit" class="bg_chec_oscuro px-4" mat-button>
                        Cambiar
                      </button>
                    </div>
                  </div>
                </form>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
